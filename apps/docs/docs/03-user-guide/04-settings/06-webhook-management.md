---
sidebar_position: 6
title: '웹훅 연동'
description: '외부 시스템과의 실시간 데이터 연동을 위한 웹훅 설정 방법에 대한 설명입니다.'
---

# 웹훅 연동

ABC User Feedback에서 발생하는 이벤트를 외부 시스템으로 실시간 전송하기 위한 웹훅 연동 방법을 안내합니다.

## 개요

웹훅 연동 기능을 통해 ABC User Feedback에서 발생하는 다양한 이벤트(피드백 생성, 이슈 상태 변경 등)를 외부 시스템으로 자동 전송할 수 있습니다. 이를 통해 실시간 알림, 자동화 워크플로우, 외부 시스템과의 데이터 동기화 등을 구현할 수 있습니다.

## 웹훅 설정 접근

### 접근 방법

1. 상단 메뉴에서 **Settings** 탭을 클릭합니다.
2. 좌측 메뉴에서 **Webhook Integration**을 선택합니다.

### 화면 구성

**상단 안내 패널**

- 웹훅 연동에 대한 설명
- Webhook Docs 링크 제공

**웹훅 테이블**

- **On/Off**: 웹훅 활성화 상태 토글
- **Name**: 웹훅 이름
- **URL**: 웹훅 엔드포인트 URL
- **Event Trigger**: 트리거되는 이벤트 종류
- **Created**: 생성일시

**컨트롤 버튼**

- **Register Webhook**: 새 웹훅 등록 버튼

## 웹훅 등록

### 새 웹훅 생성

1. 우측 상단의 **Register Webhook** 버튼을 클릭합니다.
2. **Register Webhook** 모달창에서 다음 정보를 입력합니다:

#### 필수 입력 정보

**Name** (필수)

- 웹훅을 구분하기 위한 이름
- 예시: translator, notification-service, data-sync

**URL** (필수)

- 이벤트를 수신할 외부 엔드포인트 URL
- HTTPS 프로토콜 사용 권장
- 예시: `https://api.example.com/webhook/feedback`

**Token**

- 웹훅 인증을 위한 토큰 (선택사항)
- **Generate** 버튼으로 자동 생성 가능
- 수동 입력도 가능

#### Event Trigger 설정

다음 이벤트들 중 원하는 항목을 선택할 수 있습니다:

**Feedback Creation**

- 새로운 피드백이 생성될 때 트리거
- 실시간 피드백 알림에 활용

**Issue Registration**

- 새 이슈가 등록될 때 트리거
- 이슈 관리 시스템과 연동

**Issue Status Change**

- 이슈 상태가 변경될 때 트리거
- 워크플로우 자동화에 활용

**Issue Creation**

- 이슈가 생성될 때 트리거
- 개발팀 알림 시스템과 연동

### 채널별 설정

각 이벤트에 대해 채널별로 세부 설정이 가능합니다:

## 웹훅 관리

### 기존 웹훅 편집

1. 웹훅 목록에서 편집할 웹훅 행을 클릭합니다.
2. **Webhook Details** 모달창에서 다음을 수정할 수 있습니다:

#### 수정 가능한 항목

**Name**

- 웹훅 이름 변경

**URL**

- 엔드포인트 URL 변경

**Token**

- 인증 토큰 변경 또는 재생성

**Event Trigger**

- 트리거 이벤트 추가/제거
- 채널별 세부 설정 변경

#### 관리 기능

- **OK**: 변경사항 저장
- **Cancel**: 변경사항 취소
- **Delete**: 웹훅 삭제

### 웹훅 활성화/비활성화

- 테이블의 **On/Off** 토글 스위치로 즉시 제어
- 비활성화 시 이벤트 전송이 중단됩니다
- 설정은 유지되므로 언제든 재활성화 가능

## 웹훅 페이로드

### 표준 페이로드 구조

웹훅으로 전송되는 데이터는 다음과 같은 구조를 가집니다:

```json
{
  "event": "feedback_created",
  "timestamp": "2025-09-11T10:35:00Z",
  "project_id": "17",
  "channel_id": "store_review",
  "data": {
    "feedback_id": "123",
    "content": "피드백 내용",
    "created_at": "2025-09-11T10:35:00Z",
    "user_info": {
      "id": "user_123",
      "email": "user@example.com"
    }
  }
}
```

### 이벤트별 페이로드

**feedback_created**

- 피드백 ID, 내용, 작성자 정보
- 채널 정보, 태그 등

**issue_created**

- 이슈 ID, 제목, 설명
- 상태, 우선순위, 담당자

**issue_status_changed**

- 이슈 ID, 이전 상태, 새 상태
- 변경 시간, 변경자 정보

**issue_registered**

- 피드백과 이슈 연결 정보
- 연결된 피드백 및 이슈 상세

## 보안 및 인증

### 토큰 기반 인증

**토큰 생성**

- 시스템에서 자동 생성 가능
- 수동으로 커스텀 토큰 설정 가능
- 토큰은 HTTP 헤더로 전송됩니다

**헤더 형식**

```
Authorization: Bearer {your_token}
```

**토큰 관리**

- 정기적인 토큰 교체 권장
- 토큰 유출 시 즉시 재생성
- 외부 시스템과 토큰 동기화 필요

### HTTPS 사용

- 모든 웹훅 URL은 HTTPS 사용 권장
- 데이터 전송 중 암호화 보장
- 중간자 공격 방지

## 외부 시스템 연동 예시

### Slack 알림 연동

**목적**: 새 피드백 발생 시 Slack 채널에 알림

**설정**:

- URL: Slack Webhook URL
- Event: Feedback Creation
- 토큰: Slack에서 제공하는 토큰

### 자동화 워크플로우

**목적**: 이슈 상태 변경 시 자동 작업 수행

**설정**:

- URL: 자동화 시스템 엔드포인트
- Event: Issue Status Change
- 토큰: 자체 생성한 인증 토큰

### CRM 시스템 연동

**목적**: 고객 피드백을 CRM에 자동 등록

**설정**:

- URL: CRM API 엔드포인트
- Event: Feedback Creation
- 토큰: CRM API 키

## 문제 해결

### 웹훅 전송 실패

**일반적인 원인**:

1. 외부 서버 다운 또는 네트워크 오류
2. 잘못된 URL 또는 엔드포인트 변경
3. 인증 토큰 만료 또는 불일치
4. HTTPS 인증서 문제

**해결 방법**:

1. 외부 시스템 상태 확인
2. URL 정확성 검증
3. 토큰 재생성 및 동기화
4. 테스트 요청으로 연결 확인

### 이벤트 중복 수신

**원인**: 네트워크 지연으로 인한 재전송

**해결**: 외부 시스템에서 이벤트 ID 기반 중복 제거 구현

### 토큰 인증 오류

**확인 사항**:

- 토큰이 올바른 헤더에 포함되었는지
- 토큰 형식이 외부 시스템 요구사항과 일치하는지
- 토큰이 만료되지 않았는지

## 모니터링 및 로깅

### 웹훅 상태 확인

- 웹훅 테이블에서 활성화 상태 확인
- 최근 전송 성공/실패 여부 모니터링
- 이벤트 발생 빈도 추적

### 로그 분석

- 웹훅 전송 로그 정기 검토
- 실패 패턴 분석 및 개선
- 성능 최적화를 위한 데이터 활용

### 실시간 디버깅

**웹훅 테스트**

- 테스트 이벤트 발생으로 웹훅 동작 확인
- 실제 페이로드 구조 검증
- 외부 시스템 응답 상태 모니터링

**로그 확인**

- 전송 시간, 응답 코드, 에러 메시지 추적
- 재시도 로직 및 실패 처리 상태 확인

> **참고**: 웹훅은 외부 시스템과의 실시간 연동을 위한 강력한 도구입니다. 적절한 보안 설정과 에러 처리를 통해 안정적인 데이터 연동을 구현하시기 바랍니다.

---

이 문서는 웹훅 연동의 기본적인 방법을 안내합니다. 특정 외부 시스템과의 연동에 대한 자세한 내용은 Webhook Docs를 참고하세요.
