---
sidebar_position: 4
title: 'ウェブフック設定'
description: '外部システムと自動統合するためにウェブフックを設定し、イベント発生時に通知を送信する方法を説明します。'
---

# ウェブフック設定

ウェブフックは、ABC User Feedbackで**特定のイベント発生時に外部システムに自動通知**を送信する機能です。フィードバック作成、イシューステータス変更などのイベントをリアルタイムで外部サービス（Slack、Discord、独自サーバーなど）に配信できます。詳細な統合ガイドについては、[ウェブフック統合](/ja/developer-guide/webhook-integration)ドキュメントを参照してください。

![webhook-setting](/img/webhook/webhook-setting.png)

---

## アクセス方法

1. 上部メニューで**Settings**をクリック
2. 左メニューから**Webhook Integration**を選択

---

## Webhook Integration画面の概要

![webhook-list.png](/img/webhook/webhook-list.png)

ウェブフック統合画面は次のように構成されます：

### ウェブフックリストテーブル構成

| 列                | 説明                                    |
| ----------------- | --------------------------------------- |
| **On/Off**        | ウェブフック有効化/無効化トグルスイッチ |
| **Name**          | ウェブフック名                          |
| **URL**           | 通知を受信する外部エンドポイント        |
| **Event Trigger** | 購読中のイベントトリガー                |
| **Created**       | ウェブフック作成日時                    |

---

## 新しいウェブフックの作成

### 1. ウェブフック登録開始

右上の**Register Webhook**ボタンをクリックすると、ウェブフック登録モーダルが開きます。

### 2. 基本情報入力

#### 必須入力項目

| 項目     | 説明                                        |
| -------- | ------------------------------------------- |
| **Name** | ウェブフック識別のための名前                |
| **URL**  | HTTP POSTリクエストを受信するエンドポイント |

### 3. トークン設定（オプション）

**Token**フィールドで認証用のトークンを設定できます：

- **Generate**ボタンをクリックして自動生成
- または直接トークン値を入力

### 4. Event Trigger選択

購読するイベントをチャネル別に選択できます：

#### サポートされるイベントタイプ

各チャネル（VOC、Review、Survey、VOC Test）について、次のイベントを選択できます：

| イベントタイプ          | 説明                                       |
| ----------------------- | ------------------------------------------ |
| **Feedback Creation**   | 新しいフィードバックが登録されたとき       |
| **Issue Registration**  | 新しいイシューが作成されたとき             |
| **Issue Status Change** | イシューステータスが変更されたとき         |
| **Issue Creation**      | イシューがフィードバックにリンクされたとき |

### 5. ウェブフック保存

すべての情報を入力した後：

1. **OK**ボタンをクリックしてウェブフックを作成
2. **Cancel**ボタンでキャンセル可能

---

## ウェブフックステータス管理

### 有効化/無効化の切り替え

ウェブフックリストで各ウェブフックの**On/Off**列にあるトグルスイッチをクリックしてステータスを変更できます：

- **On（有効化）**: イベント発生時にリアルタイム送信
- **Off（無効化）**: ウェブフックは維持されますが送信は停止

### 一時無効化シナリオ

- 外部サーバーがメンテナンス中の場合
- ウェブフックURL変更作業中の場合
- スパム通知を防ぐ必要がある場合

---

## ウェブフック編集と削除

### ウェブフック編集

ウェブフックリストで編集したいウェブフックをクリックすると編集モーダルが開きます：

#### 編集可能な項目

- ウェブフック名
- Target URL変更
- トークン値修正
- イベントタイプ追加/削除

### ウェブフック削除

ウェブフックを完全に削除するには：

1. 編集モーダルで削除オプションを選択
2. またはリストから直接削除ボタンをクリック（UIに削除ボタンがある場合）

---

## ウェブフックテストと検証

### 手動検証方法

1. **フィードバック作成テスト**：
   - テストフィードバックを登録して`Feedback Creation`イベントを確認
2. **イシュー管理テスト**：
   - イシューを作成またはステータスを変更して関連イベントを確認
3. **外部サービス確認**：
   - Slack、Discordなどでメッセージ受信を確認

---

## 一般的な統合例

### Slackウェブフック設定

```
Name: Slack通知
URL: https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXX
Events: Feedback Creation, Issue Registration（すべてのチャネル）
```

### Discordウェブフック設定

```
Name: Discord開発チーム通知
URL: https://discord.com/api/webhooks/123456789/abcdefghijk
Events: Issue Status Change（VOCチャネルのみ）
```

### カスタムサーバー統合

```
Name: 内部分析システム
URL: https://api.yourcompany.com/webhooks/feedback
Token: your-generated-token
Events: すべてのイベント（すべてのチャネル）
```

---

## 関連ドキュメント

- [Webhook開発者ガイド](/ja/developer-guide/webhook-integration) - ウェブフック受信サーバーの実装方法
- [APIキー管理](./02-api-key-management.md) - APIキーベース認証設定
