---
title: テナント設定
description: ABC User Feedbackのテナント情報、ログイン方式、ユーザー管理など、組織全体に影響を与える設定を管理する方法を案内します。
sidebar_position: 1
---

# テナント設定

テナント設定はABC User Feedbackの最上位管理機能で、組織全体に影響を与える重要な設定を扱います。このドキュメントでは、テナント情報管理、ログイン方式設定、全ユーザー管理方法を説明します。

> **注意**: これらの設定は**Super Admin権限**を持つユーザーのみがアクセスできます。

---

## テナント設定

テナントは組織の最上位単位で、すべてのプロジェクトとユーザーが含まれる範囲です。

### アクセス方法

1. 右上メニューで**Home**アイコンをクリックします
2. 左メニューから**Tenant Information**を選択します

### 編集可能な項目

| 項目            | 説明                                  | 編集可能 | 例                      |
| --------------- | ------------------------------------- | -------- | ----------------------- |
| **ID**          | テナント固有識別子（システム自動生成） | ❌ 不可  | `1`                     |
| **Name**        | テナント名（組織名、会社名など）       | ✅ 可能  | `ABC Company`           |
| **Description** | テナント説明（オプション）            | ✅ 可能  | `顧客フィードバック管理システム` |

### 情報編集方法

1. **Name**または**Description**フィールドを編集します
2. 右上の**Save**ボタンをクリックします
3. 保存完了時に成功メッセージが表示されます

> テナント名はログインUIに表示される場合があります。

---

## ログイン設定

ユーザーがシステムにアクセスする際に使用する認証方式を設定します。

### アクセス方法

1. 右上メニューで**Home**アイコンをクリックします
2. 左メニューから**Login Management**を選択します

### サポートされるログイン方式

#### 1. メールログイン

デフォルトで提供されるメール+パスワードの組み合わせ方式です。

**特徴**：

- 追加設定なしでデフォルト有効化
- ユーザー招待 → メール認証 → パスワード設定の順序
- パスワードリセット機能提供

**パスワードポリシー**：

- 最低8文字以上
- 英字、数字、特殊文字を含むことを推奨
- 連続文字禁止（例：`aa`、`11`）

#### 2. Googleログイン

Google OAuth 2.0によるソーシャルログイン方式です。

**設定方法**：

1. **Googleログイン有効化**: トグルをONに切り替えます
2. **Google Cloud Console設定が必要です**：

> **参考**: Google OAuth統合の詳細な実装方法については、[OAuth統合ガイド](/ja/developer-guide/oauth-integration)を参照してください。

#### 3. カスタムOAuthログイン

独自のOAuthサーバーや他のOAuthプロバイダーを使用する方式です。

**設定項目**：

| 項目              | 説明                          | 例                                       |
| ----------------- | ----------------------------- | ---------------------------------------- |
| **Provider Name** | ログインボタンに表示される名前 | `Microsoftでログイン`                    |
| **Client ID**     | OAuthクライアントID            | `abc123xyz`                              |
| **Client Secret** | OAuthクライアントシークレット  | `supersecret`                            |
| **Auth URL**      | 認証リクエストURL              | `https://auth.example.com/oauth2/auth`   |
| **Token URL**     | トークンリクエストURL          | `https://auth.example.com/oauth2/token`  |
| **User Info URL** | ユーザー情報リクエストURL      | `https://auth.example.com/oauth2/userinfo` |
| **Scope**         | リクエストする権限範囲         | `openid email profile`                   |
| **Email Key**     | ユーザー情報のメールフィールド名 | `email`                                 |

**設定順序**：

1. 各フィールドにOAuthサーバー情報を入力します
2. **Save**ボタンをクリックして保存します
3. ログイン画面で設定されたProvider Nameでボタンが表示されます

### ログイン方式の組み合わせ

複数のログイン方式を同時に有効化できます：

- **メールのみ**: デフォルトログインフォームのみ表示
- **メール+Google**: ログインフォーム+「Googleでログイン」ボタン
- **メール+カスタム**: ログインフォーム+カスタムOAuthボタン

### ログイン設定のテスト

設定変更後、必ずテストを実施してください：

1. ブラウザのシークレットモードでログインページにアクセス
2. 設定したログイン方式が正常に表示されるか確認
3. 各方式で実際のログインテストを実行

---

## ユーザー管理

テナント全体のユーザーを中央で統合管理する機能です。

### アクセス方法

1. 右上メニューで**Home**アイコンをクリックします
2. 左メニューから**User Management**を選択します

### ユーザーリストの確認

#### 表示される情報

| 列       | 説明                      | 表示例              |
| ---------- | ------------------------- | ---------------------- |
| Email      | ログインアカウントメールアドレス | `user@company.com`     |
| Name       | ユーザー名（プロフィール基準） | `山田太郎`             |
| Department | 所属部門                 | `開発チーム`               |
| Type       | ユーザータイプ               | `SUPER` / `GENERAL`    |
| Project    | アクセス可能なプロジェクトリスト | `プロジェクトA、プロジェクトB` |
| Created    | アカウント作成日時             | `2024-03-15 14:30`     |

#### ユーザータイプの説明

| タイプ      | 説明                                                     | 権限範囲       |
| --------- | -------------------------------------------------------- | --------------- |
| `SUPER`   | すべてのプロジェクトと設定にアクセス可能。全体システム管理者の役割 | テナント全体     |
| `GENERAL` | 指定されたプロジェクトにのみアクセス可能                            | 特定のプロジェクトのみ |

### ユーザー検索とフィルタリング

大量のユーザーがいる場合、希望するユーザーを素早く見つけることができます。

#### フィルタ機能

上部の**Filter**ボタンをクリックして条件を設定します。

**フィルタ条件**：

- **Email**: メールアドレスで検索
- **Name**: ユーザー名で検索
- **Department**: 部門名で検索

**演算子オプション**：

- **CONTAINS**: 含む場合
- **IS**: 完全一致する場合

### ユーザーの招待

新しいユーザーをシステムに招待します。

#### 招待方法

1. 右上の**Invite User**ボタンをクリックします
2. 招待情報を入力します

| 項目        | 説明                        | オプション                     |
| ----------- | --------------------------- | ----------------------------- |
| **Email**   | 招待するユーザーのメールアドレス | 必須入力                     |
| **Type**    | ユーザータイプ                 | `GENERAL` / `SUPER`           |
| **Project** | アクセスを許可するプロジェクト        | プロジェクトリストから選択        |
| **Role**    | そのプロジェクトでの役割    | `Admin` / `Editor` / `Viewer` |

3. **Invite**ボタンをクリックして招待を完了します

#### 招待後のプロセス

1. 招待されたユーザーにメールが送信されます
2. ユーザーがメールのリンクをクリックして登録手続きを進めます
3. 登録完了後、指定されたプロジェクトに自動的に追加されます

### ユーザー情報の編集

既存のユーザーの情報と権限を変更できます。

#### 編集方法

1. ユーザーリストで編集したいユーザーをクリックします
2. **Edit User**ポップアップが開きます

#### 編集可能な項目

| 項目      | 編集可能 | 説明                           |
| --------- | -------- | ------------------------------ |
| **Email** | ❌ 不可  | アカウント識別子として変更不可        |
| **Type**  | ✅ 可能  | `GENERAL` ↔ `SUPER`変更可能 |

#### 保存と適用

1. 必要な情報を編集します
2. **Save**ボタンをクリックします
3. 変更は即座に適用され、該当ユーザーの次回ログインから反映されます

### ユーザーの削除

システムを使用しなくなったユーザーを削除できます。

#### 削除方法

1. ユーザー編集ポップアップ下部の**Delete**ボタンをクリックします
2. 確認ダイアログで削除を承認します

#### 削除時の注意事項

- **復元不可能**: 削除されたユーザーアカウントは元に戻せません
- **アクセス権限の即座削除**: 削除時、すべてのシステムアクセスが即座にブロックされます

---

## 関連ドキュメント

- [プロジェクト管理](../02-project-management.md) - プロジェクト別メンバーと権限管理
- [OAuth統合ガイド](../../02-developer-guide/03-oauth-integration.md) - OAuth設定の技術的実装方法
- [API統合](/ja/developer-guide/api-integration) - APIによるユーザー管理方法

